<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Screening · Harmonie wiki</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.png" alt="Harmonie wiki logo"/></a><div class="docs-package-name"><span class="docs-autofit">Harmonie wiki</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><span class="tocitem">Running at ECMWF and local</span><ul><li><a class="tocitem" href="../Harmonie-mSMS/">Running at ECMWF</a></li><li><a class="tocitem" href="../Fast_start_on_cca/">Fast start on cca</a></li><li><a class="tocitem" href="../QuickStartLocal/">Quick start local</a></li></ul></li><li><span class="tocitem">Installation</span><ul><li><a class="tocitem" href="../Installation/">Installation</a></li><li><a class="tocitem" href="../General/">General Software Requirements</a></li><li><a class="tocitem" href="../Build_with_makeup/">Makeup</a></li><li><a class="tocitem" href="../StandaloneOdb/">Stand Alone ODB</a></li><li><a class="tocitem" href="../Redhat7Install/">Redhat7</a></li><li><a class="tocitem" href="../Centos6Install/">Centos6</a></li></ul></li><li><a class="tocitem" href="../TheHarmonieScript/">The Harmonie Script</a></li><li><a class="tocitem" href="../DrHook/">Profiling and Traceback</a></li><li><a class="tocitem" href="../FileFormats/">File Formats</a></li><li><span class="tocitem">Job Scheduling</span><ul><li><a class="tocitem" href="../ECFLOW/">ECFlow</a></li><li><a class="tocitem" href="../scripts/mXCdp/">mXCdp</a></li><li><a class="tocitem" href="../scripts/mSMS/">mSMS</a></li></ul></li><li><span class="tocitem">Testbed and Mitraillette</span><ul><li><a class="tocitem" href="../Evaluation/HarmonieTestbed/">Testbed</a></li><li><a class="tocitem" href="../Evaluation/Mitraillette/">Mitraillette</a></li></ul></li><li><span class="tocitem">Directories  and Binaries</span><ul><li><a class="tocitem" href="../Content/">Directories</a></li><li><a class="tocitem" href="../Binaries/">Binaries</a></li></ul></li><li><span class="tocitem">Configuration</span><ul><li><a class="tocitem" href="../ConfigureYourExperiment/">Experiment</a></li><li><a class="tocitem" href="../PlatformConfiguration/">Platform</a></li><li><a class="tocitem" href="../Namelists/">Namelist</a></li><li><a class="tocitem" href="../UpdateNamelists/">Update Namelist</a></li><li><a class="tocitem" href="../ModelDomain/">Model Domain</a></li><li><a class="tocitem" href="../VerticalGrid/">Vertical Grid</a></li><li><a class="tocitem" href="../ClimateSimulation/">Climate Simulation</a></li><li><a class="tocitem" href="../How_to_use_hires_topography/">Hires topography</a></li></ul></li><li><span class="tocitem">ECFlow tasks</span><ul><li><a class="tocitem" href="../ClimateGeneration/">Climate</a></li><li><input class="collapse-toggle" id="menuitem-11-2" type="checkbox"/><label class="tocitem" for="menuitem-11-2"><span class="docs-label">Observations</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../UseofObservation/">Use of Observation</a></li><li><a class="tocitem" href="../ObservationOperators/">Observation operators</a></li><li><a class="tocitem" href="../ObservationHowto/GNSS/">GNSS ZTD observations</a></li><li><a class="tocitem" href="../ObservationHowto/Amv/">Atmospheric Motion Vectors (AMV)</a></li><li><a class="tocitem" href="../RadarData/">Assimilation of Radar Data</a></li><li><input class="collapse-toggle" id="menuitem-11-2-6" type="checkbox"/><label class="tocitem" for="menuitem-11-2-6"><span class="docs-label">Preprocessing</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../ObservationPreprocessing/ObservationData/">Observation data</a></li><li><a class="tocitem" href="../ObservationPreprocessing/Bator/">Bator</a></li><li><a class="tocitem" href="../ObservationPreprocessing/Oulan/">Oulan</a></li><li><a class="tocitem" href="../ObservationPreprocessing/Cope/">Cope</a></li></ul></li></ul></li><li><a class="tocitem" href="../ObservationPreprocessing/Bator/">Bator</a></li><li><a class="tocitem" href="../ObservationPreprocessing/Oulan/">Oulan</a></li><li><a class="tocitem" href="../BoundaryFilePreparation/">Boundaries</a></li><li class="is-active"><a class="tocitem" href>Screening</a><ul class="internal"><li><a class="tocitem" href="#Screening-1"><span>Screening</span></a></li><li><a class="tocitem" href="#Introduction-1"><span>Introduction</span></a></li><li><a class="tocitem" href="#Inputs-1"><span>Inputs</span></a></li><li><a class="tocitem" href="#Screening-tasks-1"><span>Screening tasks</span></a></li><li><a class="tocitem" href="#Output-1"><span>Output</span></a></li></ul></li><li><a class="tocitem" href="../Analysis/SurfaceAnalysis/">Surface Analysis</a></li><li><a class="tocitem" href="../DigitialFilterInitialization/">DFI</a></li><li><a class="tocitem" href="../Forecast/">Forecast</a></li><li><input class="collapse-toggle" id="menuitem-11-10" type="checkbox"/><label class="tocitem" for="menuitem-11-10"><span class="docs-label">Post Processing</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../PostPP/Obsmon/">Obsmon</a></li><li><a class="tocitem" href="../PostPP/Diagnostics/">Diagnostics</a></li><li><a class="tocitem" href="../PostPP/xtool/">xtool</a></li><li><a class="tocitem" href="../PostPP/gl/Interpolation/">GL interpolation</a></li><li><input class="collapse-toggle" id="menuitem-11-10-5" type="checkbox"/><label class="tocitem" for="menuitem-11-10-5"><span class="docs-label">Verification</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../PostPP/Verification/">HARMONIE Verification</a></li><li><a class="tocitem" href="../PostPP/Extract4verification/">-</a></li></ul></li><li><a class="tocitem" href="../PostPP/Fullpos/">Fullpos</a></li><li><a class="tocitem" href="../PostPP/FileConversions/">FileConversion</a></li><li><a class="tocitem" href="../PostPP/gl_grib_api/">gl<em>grib</em>api</a></li></ul></li></ul></li><li><span class="tocitem">Other</span><ul><li><a class="tocitem" href="../Scalability_and_Refactoring/">Scalability and refactoring</a></li><li><a class="tocitem" href="../HarmonieBenchMark/">Harmonie RAPS benchmark</a></li><li><a class="tocitem" href="../MFaccess/">Using Météo-France Servers</a></li><li><a class="tocitem" href="../Phasing/">Phasing information</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">ECFlow tasks</a></li><li class="is-active"><a href>Screening</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Screening</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://hirlam.org/trac//wiki//HarmonieSystemDocumentation/Screening?action=edit" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h2 id="Screening-1"><a class="docs-heading-anchor" href="#Screening-1">Screening</a><a class="docs-heading-anchor-permalink" href="#Screening-1" title="Permalink"></a></h2><h2 id="Introduction-1"><a class="docs-heading-anchor" href="#Introduction-1">Introduction</a><a class="docs-heading-anchor-permalink" href="#Introduction-1" title="Permalink"></a></h2><p>Screening (configuration 002 of ARPEGE/IFS model) carries out quality control of observations. </p><p>A useful presentation (Martin Ridal) from the &quot;Hirlam-B Training Week on HARMONIE system&quot; training course is available here: <a href="https://hirlam.org/trac/raw-attachment/wiki/HarmonieSystemTraining2014/Programme/MR_screenandminim.pdf">MR_screenandminim.pdf</a>. Most of the information on this page is based on his presentation.</p><h2 id="Inputs-1"><a class="docs-heading-anchor" href="#Inputs-1">Inputs</a><a class="docs-heading-anchor-permalink" href="#Inputs-1" title="Permalink"></a></h2><ul><li>First guess (the same file with 5  different names):<ul><li>ICMSHMIN1INIT</li><li>ICMSHMIN1IMIN</li><li>ICMRFMIN10000</li><li>ELSCFMIN1ALBC000</li><li>ELSCFMIN1ALBC</li></ul></li></ul><ul><li>Input/output ODB directory structure<ul><li>{d_DB}/ECMA</li><li><div>\[{d_DB}/ECMA.\]</div>{base1}</li></ul></li></ul><ul><li>Constants and statistics (MAY NEED TO BE UPDATED)<ul><li>correl.dat</li><li>sigmab.dat</li><li>rszcoef_fmt</li><li>errgrib</li><li>rt<em>coef</em>atovs<em>newpred</em>ieee.dat</li><li>bcor_noaa.dat</li><li>chanspec_noaa.dat</li><li>rmtberr_noaa.dat</li><li>cstlim_noaa.dat</li></ul></li></ul><ul><li>Namelist: See <em>%screening</em> in <a href="https://hirlam.org/trac/browser/Harmonie/nam/harmonie_namelists.pm">nam/harmonie_namelists.pm</a></li></ul><h2 id="Screening-tasks-1"><a class="docs-heading-anchor" href="#Screening-tasks-1">Screening tasks</a><a class="docs-heading-anchor-permalink" href="#Screening-tasks-1" title="Permalink"></a></h2><p>(Based on Martin Ridal&#39;s presentation).</p><ul><li>Preliminary check of observations<ul><li>Check of completeness of the reports</li><li>Check if station altitude is present</li><li>Check of the reporting practice for SYNOP &amp; TEMP mass observations </li></ul></li><li>Blacklisting: A blacklist is applied to discard observations of known poor quality and/or that cannot be properly handled by the data assimilation. A selection of variables for assimilation is done using the data selection part of the blacklist file and the information hard-coded in Arpege/Aladin (orographic rejection limit, land-sea rejection...). Decisions based on the blacklist are feedback to the CMA. Blacklisting is defined in <a href="https://hirlam.org/trac/browser/Harmonie/src/bla/mf_blacklist.b">src/bla/mf_blacklist.b</a></li><li>Background quality control: flags are assigned to observations – 1 =&gt;  probably correct, 2 =&gt; probably incorrect, 3 =&gt; incorrect.</li><li>Vertical consistency of multilevel report:<ul><li>The duplicated levels, in multi-level reports, are removed from the reports</li><li>If 4 consecutive layers are found to be of suspicious quality then these layers are rejected</li></ul></li><li>Removal of duplicated reports<ul><li>In case of co-located airep reports of the same observation types (time, position), some or all of the content of one of the reports is rejected</li></ul></li><li>Redundancy check<ul><li>performed for active reports that are co-located and originate from the same station</li><li>LAND SYNOP: the report closest to the centre of the screening time window with most active data is retained</li><li>SHIP SYNOP: redundant if the moving platforms are within a circle of 1^o^ radius (<a href="https://hirlam.org/trac/browser/Harmonie/src/arpifs/obs_preproc/sufglim.F90">src/arpifs/obs_preproc/sufglim.F90</a>: RSHIDIS = 111000._JPRB)</li><li>TEMP and PILOT: same stations are considered at the same time in the redundancy check</li><li>A SYNOP mass observation is redundant if there are any TEMP geopotential height observations (made in the same time and the same station) that are no more than 50hPa above the SYNOP mass observation</li></ul></li><li>Thinning: High resolution data needs to be reduced to reduce correlated errors and reduce the amount of data</li></ul><h2 id="Output-1"><a class="docs-heading-anchor" href="#Output-1">Output</a><a class="docs-heading-anchor-permalink" href="#Output-1" title="Permalink"></a></h2><p>The quality control information will be put into the input ECMA ODB(s) and a newly created CCMA to used by the 3DVAR minimization.</p><p>A valuable summary about screening decisions can be found in HM<em>Date</em>YYYYMMDDHH.html:</p><ul><li>Look for “SCREENING STATISTICS” to get:<ul><li>STATUS summary</li><li>EVENT summary</li><li>Number of variables, departures and missing departures</li><li>Diagnostic JO-table</li><li>CCMA ODB and updated ECMA ODB</li></ul></li></ul><p>Screening Events listed under &quot;EVENT SUMMARY OF REPORTS:&quot;</p><table><tr><th style="text-align: right">=  =</th><th style="text-align: right">= Description                              =</th></tr><tr><td style="text-align: right">1</td><td style="text-align: right">NO DATA IN THE REPORT</td></tr><tr><td style="text-align: right">2</td><td style="text-align: right">ALL DATA REJECTED</td></tr><tr><td style="text-align: right">3</td><td style="text-align: right">BAD REPORTING PRACTICE</td></tr><tr><td style="text-align: right">4</td><td style="text-align: right">REJECTED DUE TO RDB FLAG</td></tr><tr><td style="text-align: right">5</td><td style="text-align: right">ACTIVATED DUE TO RDB FLAG</td></tr><tr><td style="text-align: right">6</td><td style="text-align: right">ACTIVATED BY WHITELIST</td></tr><tr><td style="text-align: right">7</td><td style="text-align: right">HORIZONTAL POSITION OUT OF RANGE</td></tr><tr><td style="text-align: right">8</td><td style="text-align: right">VERTICAL POSITION OUT OF RANGE</td></tr><tr><td style="text-align: right">9</td><td style="text-align: right">TIME OUT OF RANGE</td></tr><tr><td style="text-align: right">10</td><td style="text-align: right">REDUNDANT REPORT</td></tr><tr><td style="text-align: right">11</td><td style="text-align: right">REPORT OVER LAND</td></tr><tr><td style="text-align: right">12</td><td style="text-align: right">REPORT OVER SEA</td></tr><tr><td style="text-align: right">13</td><td style="text-align: right">MISSING STATION ALTITUDE</td></tr><tr><td style="text-align: right">14</td><td style="text-align: right">MODEL SUR. TOO FAR FROM STAT. ALT.</td></tr><tr><td style="text-align: right">15</td><td style="text-align: right">REPORT REJECTED THROUGH THE NAMELIST</td></tr><tr><td style="text-align: right">16</td><td style="text-align: right">FAILED QUALITY CONTROL</td></tr></table></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../BoundaryFilePreparation/">« Boundaries</a><a class="docs-footer-nextpage" href="../Analysis/SurfaceAnalysis/">Surface Analysis »</a></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Tuesday 30 March 2021 17:28">Tuesday 30 March 2021</span>. Using Julia version 1.6.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
