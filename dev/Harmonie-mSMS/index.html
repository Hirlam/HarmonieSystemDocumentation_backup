<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Running at ECMWF · Harmonie wiki</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.png" alt="Harmonie wiki logo"/></a><div class="docs-package-name"><span class="docs-autofit">Harmonie wiki</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><span class="tocitem">Running at ECMWF and local</span><ul><li class="is-active"><a class="tocitem" href>Running at ECMWF</a><ul class="internal"><li><a class="tocitem" href="#Introduction-1"><span>Introduction</span></a></li><li><a class="tocitem" href="#Before-you-start-...-1"><span>Before you start ...</span></a></li><li><a class="tocitem" href="#Configure-your-experiment-1"><span>Configure your experiment</span></a></li><li><a class="tocitem" href="#Start-your-experiment-1"><span>Start your experiment</span></a></li><li><a class="tocitem" href="#Continue-your-experiment-1"><span>Continue your experiment</span></a></li><li><a class="tocitem" href="#!Start/Restart-of-ecflow_ui-1"><span>!Start/Restart of ecflow_ui</span></a></li><li><a class="tocitem" href="#Making-local-changes-1"><span>Making local changes</span></a></li><li><a class="tocitem" href="#Directory-structure-1"><span>Directory structure</span></a></li><li><a class="tocitem" href="#Cleanup-of-old-experiments-1"><span>Cleanup of old experiments</span></a></li><li><a class="tocitem" href="#[Back-to-the-main-page-of-the-HARMONIE-System-Documentation](../HarmonieSystemDocumentation.md)-1"><span>Back to the main page of the HARMONIE System Documentation</span></a></li></ul></li><li><a class="tocitem" href="../Fast_start_on_cca/">Fast start on cca</a></li><li><a class="tocitem" href="../QuickStartLocal/">Quick start local</a></li></ul></li><li><span class="tocitem">Installation</span><ul><li><a class="tocitem" href="../Installation/">Installation</a></li><li><a class="tocitem" href="../General/">General Software Requirements</a></li><li><a class="tocitem" href="../Build_with_makeup/">Makeup</a></li><li><a class="tocitem" href="../StandaloneOdb/">Stand Alone ODB</a></li><li><a class="tocitem" href="../Redhat7Install/">Redhat7</a></li><li><a class="tocitem" href="../Centos6Install/">Centos6</a></li></ul></li><li><a class="tocitem" href="../TheHarmonieScript/">The Harmonie Script</a></li><li><a class="tocitem" href="../DrHook/">Profiling and Traceback</a></li><li><a class="tocitem" href="../FileFormats/">File Formats</a></li><li><span class="tocitem">Job Scheduling</span><ul><li><a class="tocitem" href="../ECFLOW/">ECFlow</a></li><li><a class="tocitem" href="../scripts/mXCdp/">mXCdp</a></li><li><a class="tocitem" href="../scripts/mSMS/">mSMS</a></li></ul></li><li><span class="tocitem">Testbed and Mitraillette</span><ul><li><a class="tocitem" href="../Evaluation/HarmonieTestbed/">Testbed</a></li><li><a class="tocitem" href="../Evaluation/Mitraillette/">Mitraillette</a></li></ul></li><li><span class="tocitem">Directories  and Binaries</span><ul><li><a class="tocitem" href="../Content/">Directories</a></li><li><a class="tocitem" href="../Binaries/">Binaries</a></li></ul></li><li><span class="tocitem">Configuration</span><ul><li><a class="tocitem" href="../ConfigureYourExperiment/">Experiment</a></li><li><a class="tocitem" href="../PlatformConfiguration/">Platform</a></li><li><a class="tocitem" href="../Namelists/">Namelist</a></li><li><a class="tocitem" href="../UpdateNamelists/">Update Namelist</a></li><li><a class="tocitem" href="../ModelDomain/">Model Domain</a></li><li><a class="tocitem" href="../VerticalGrid/">Vertical Grid</a></li><li><a class="tocitem" href="../ClimateSimulation/">Climate Simulation</a></li><li><a class="tocitem" href="../How_to_use_hires_topography/">Hires topography</a></li></ul></li><li><span class="tocitem">ECFlow tasks</span><ul><li><a class="tocitem" href="../ClimateGeneration/">Climate</a></li><li><input class="collapse-toggle" id="menuitem-11-2" type="checkbox"/><label class="tocitem" for="menuitem-11-2"><span class="docs-label">Observations</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../UseofObservation/">Use of Observation</a></li><li><a class="tocitem" href="../ObservationOperators/">Observation operators</a></li><li><a class="tocitem" href="../ObservationHowto/GNSS/">GNSS ZTD observations</a></li><li><a class="tocitem" href="../ObservationHowto/Amv/">Atmospheric Motion Vectors (AMV)</a></li><li><a class="tocitem" href="../RadarData/">Assimilation of Radar Data</a></li><li><input class="collapse-toggle" id="menuitem-11-2-6" type="checkbox"/><label class="tocitem" for="menuitem-11-2-6"><span class="docs-label">Preprocessing</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../ObservationPreprocessing/ObservationData/">Observation data</a></li><li><a class="tocitem" href="../ObservationPreprocessing/Bator/">Bator</a></li><li><a class="tocitem" href="../ObservationPreprocessing/Oulan/">Oulan</a></li><li><a class="tocitem" href="../ObservationPreprocessing/Cope/">Cope</a></li></ul></li></ul></li><li><a class="tocitem" href="../ObservationPreprocessing/Bator/">Bator</a></li><li><a class="tocitem" href="../ObservationPreprocessing/Oulan/">Oulan</a></li><li><a class="tocitem" href="../BoundaryFilePreparation/">Boundaries</a></li><li><a class="tocitem" href="../Screening/">Screening</a></li><li><a class="tocitem" href="../Analysis/SurfaceAnalysis/">Surface Analysis</a></li><li><a class="tocitem" href="../DigitialFilterInitialization/">DFI</a></li><li><a class="tocitem" href="../Forecast/">Forecast</a></li><li><input class="collapse-toggle" id="menuitem-11-10" type="checkbox"/><label class="tocitem" for="menuitem-11-10"><span class="docs-label">Post Processing</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../PostPP/Obsmon/">Obsmon</a></li><li><a class="tocitem" href="../PostPP/Diagnostics/">Diagnostics</a></li><li><a class="tocitem" href="../PostPP/xtool/">xtool</a></li><li><a class="tocitem" href="../PostPP/gl/Interpolation/">GL interpolation</a></li><li><input class="collapse-toggle" id="menuitem-11-10-5" type="checkbox"/><label class="tocitem" for="menuitem-11-10-5"><span class="docs-label">Verification</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../PostPP/Verification/">HARMONIE Verification</a></li><li><a class="tocitem" href="../PostPP/Extract4verification/">-</a></li></ul></li><li><a class="tocitem" href="../PostPP/Fullpos/">Fullpos</a></li><li><a class="tocitem" href="../PostPP/FileConversions/">FileConversion</a></li><li><a class="tocitem" href="../PostPP/gl_grib_api/">gl<em>grib</em>api</a></li></ul></li></ul></li><li><span class="tocitem">Other</span><ul><li><a class="tocitem" href="../Scalability_and_Refactoring/">Scalability and refactoring</a></li><li><a class="tocitem" href="../HarmonieBenchMark/">Harmonie RAPS benchmark</a></li><li><a class="tocitem" href="../MFaccess/">Using Météo-France Servers</a></li><li><a class="tocitem" href="../Phasing/">Phasing information</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Running at ECMWF and local</a></li><li class="is-active"><a href>Running at ECMWF</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Running at ECMWF</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://hirlam.org/trac//wiki//HarmonieSystemDocumentation/Harmonie-mSMS?action=edit" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Running-Harmonie-at-ECMWF-1"><a class="docs-heading-anchor" href="#Running-Harmonie-at-ECMWF-1">Running Harmonie at ECMWF</a><a class="docs-heading-anchor-permalink" href="#Running-Harmonie-at-ECMWF-1" title="Permalink"></a></h1><h2 id="Introduction-1"><a class="docs-heading-anchor" href="#Introduction-1">Introduction</a><a class="docs-heading-anchor-permalink" href="#Introduction-1" title="Permalink"></a></h2><p>The Harmonie system runs through a number of steps to help you complete your experiment. The chain can be summarized like:</p><ul><li>Configure and start the experiment. This is where you define your domain, choose your settings and specify the period for your experiment.</li></ul><p>Once you have done this you can start the system and let it create the basic infrastructure</p><ul><li>Setup the necessary directories and copy the system files needed.</li><li>Compile the binaries you need to run your experiment.</li><li>Create the constant climate files specifying your domain</li></ul><p>With the basic setup and files in place we can proceed to the integration part where we have three loops taking care of </p><ul><li>Prepare boundaries and observations</li><li>Run assimilation and forecasts</li><li>Post process and archive the result</li></ul><p>The three different task are allowed to run ahead/after each other to get a good throughput.</p><p>The configuration, the full suite and the relation between different tasks is controlled by the scheduler <a href="../HarmonieSystemDocumentation/ECFLOW.md">ECFLOW</a> which has a graphical interface ecflow_ui. This documentation describes how to get started with your first experiment. The description follows the setup at ECMWF, but your local system setup would be very similar but most likely simpler. The reference Harmonie system on ECMWF platform assumes a dual-hosts setup using ECFLOW. By default, Harmonie uses the front-end ecgb to configure and launch experiments, whereas cca is used for all computations except those for operations related to observation verification and monitoring.</p><p>Following example shows the steps to launch an Harmonie experiment my_exp from ecgb.</p><p>If this is the first time to install HARMONIE on your local platform please take a look at the basic install instructions here: <a href="../HarmonieSystemDocumentation/PlatformConfiguration.md">HarmonieSystemDocumentation/PlatformConfiguration</a>.</p><h2 id="Before-you-start-...-1"><a class="docs-heading-anchor" href="#Before-you-start-...-1">Before you start ...</a><a class="docs-heading-anchor-permalink" href="#Before-you-start-...-1" title="Permalink"></a></h2><h3 id="hirald-group-1"><a class="docs-heading-anchor" href="#hirald-group-1">hirald group</a><a class="docs-heading-anchor-permalink" href="#hirald-group-1" title="Permalink"></a></h3><p>New Harmonie users will require membership of the hirald user group at ECMWF. Please contact the HIRLAM System Manager, Daniel Santos, to make this request on your behalf.</p><h3 id="SHELL-settings-1"><a class="docs-heading-anchor" href="#SHELL-settings-1">SHELL settings</a><a class="docs-heading-anchor-permalink" href="#SHELL-settings-1" title="Permalink"></a></h3><p>The C shell, is no longer supported by ECMWF.  Check your shell on ecgate with:</p><pre><code class="language-bash">echo $SHELL</code></pre><p>To change your shell use the changesh command:</p><pre><code class="language-bash">changesh</code></pre><h2 id="Configure-your-experiment-1"><a class="docs-heading-anchor" href="#Configure-your-experiment-1">Configure your experiment</a><a class="docs-heading-anchor-permalink" href="#Configure-your-experiment-1" title="Permalink"></a></h2><ul><li>Create an experiment directory under HOME/hm_home and use the master script Harmonie to set up a minimum environment for your experiment.</li></ul><pre><code class="language-bash">   mkdir -p $HOME/hm_home/my_exp
   cd $HOME/hm_home/my_exp
   ~hlam/harmonie_release/git/tags/release-43h2.1/config-sh/Harmonie setup -r ~hlam/harmonie_release/git/tags/release-43h2.1 -h ecgb-cca</code></pre><p>where</p><ul><li>-r tells which version to use. There are several old versions kept on ecgb. Check the directories under <code>~hlam/harmonie_release</code> to see the available versions. </li><li>-h tells which configuration files to use. At ECMWF <code>config.ecgb-cca</code> is the default one.</li><li>This would give you the default setup which currently is AROME physics with CANARI+OI_MAIN surface assimilation and 3DVAR upper air assimilations with 3h cycling on a domain covering Denmark using 2.5km horizontal resolution and 65 levels in the vertical.</li><li>Now you can edit the basic configuration file <a href="https://hirlam.org/trac/browser/Harmonie/ecf/config_exp.h">ecf/config_exp.h</a> to configure your experiment scenarios. Modify specifications for domain, data locations, settings for dynamics, physics, coupling host model etc. Read more about the options in <a href="../HarmonieSystemDocumentation/ConfigureYourExperiment.md">here</a>. You can also use some of the predefined configurations by calling Harmonie with the <code>-c</code> option:</li></ul><pre><code class="language-bash">   ~hlam/Harmonie setup -r PATH_TO_HARMONIE -h YOURHOST -c CONFIG -d DOMAIN</code></pre><p>where <code>CONFIG</code> is one of the setups defined in <a href="https://hirlam.org/trac/browser/Harmonie/scr/Harmonie_configurations.pm">Harmonie_configurations.pm</a>. If you give <code>-c</code> with out an argument or a non existing configuration a list of configurations will be printed.</p><ul><li>In some cases you might have to edit the general system configuration file, <a href="https://hirlam.org/trac/browser/Harmonie/config-sh/config.ecgb">Env_system</a>. See here for further information: <a href="../HarmonieSystemDocumentation/PlatformConfiguration.md">HarmonieSystemDocumentation/PlatformConfiguration</a></li><li>The rules for how to submit jobs on ecgb/cca are defined in  <a href="https://hirlam.org/trac/browser/Harmonie/config-sh/submit.ecgb-cca">Env_submit</a>. See here for further information: <a href="../HarmonieSystemDocumentation/PlatformConfiguration.md">HarmonieSystemDocumentation/PlatformConfiguration</a></li><li>If you experiment in data assimilation you might also want to change settings in <a href="https://hirlam.org/trac/browser/Harmonie/scr/include.ass">scr/include.ass</a>.</li></ul><h2 id="Start-your-experiment-1"><a class="docs-heading-anchor" href="#Start-your-experiment-1">Start your experiment</a><a class="docs-heading-anchor-permalink" href="#Start-your-experiment-1" title="Permalink"></a></h2><p>Launch the experiment by giving start time, <code>DTG</code>, end time, <code>DTGEND</code></p><pre><code class="language-bash">      ~hlam/Harmonie start DTG=YYYYMMDDHH DTGEND=YYYYMMDDHH
                                    # e.g., ~hlam/Harmonie start DTG=2012122400 DTGEND=2012122406</code></pre><p>If successful, Harmonie will identify your experiment name and start building your binaries and run your forecast. If not, you need to examine the ECFLOW log file <code>$HM_DATA/ECF.log</code>. <code>$HM_DATA</code> is defined in your <code>Env_system</code> file. At ECMWF <code>$HM_DATA=$SCRATCH/hm_home/$EXP</code> where <code>$EXP</code> is your experiment name. Read more about where things happen further down.</p><h2 id="Continue-your-experiment-1"><a class="docs-heading-anchor" href="#Continue-your-experiment-1">Continue your experiment</a><a class="docs-heading-anchor-permalink" href="#Continue-your-experiment-1" title="Permalink"></a></h2><p>If your experiment have successfully completed and you would like to continue for another period you should write</p><pre><code class="language-bash">      ~hlam/Harmonie prod DTGEND=YYYYMMDDHH</code></pre><p>By using <code>prod</code> you tell the system that you are continuing the experiment and using the first guess from the previous cycle. The start date is take from a file progress.log created in your <code>$HOME/hm_home/my_exp</code> directory. If you would have used <code>start</code> the initial data would have been interpolated from the boundaries, a cold start in other words.</p><h2 id="!Start/Restart-of-ecflow_ui-1"><a class="docs-heading-anchor" href="#!Start/Restart-of-ecflow_ui-1">!Start/Restart of ecflow_ui</a><a class="docs-heading-anchor-permalink" href="#!Start/Restart-of-ecflow_ui-1" title="Permalink"></a></h2><p>To start the graphical window for ECFLOW on ecgb type</p><pre><code class="language-bash">      ~hlam/Harmonie mon</code></pre><p>The graphical window runs independently of the experiment and can be closed and restarted again with the same command. With the graphical interface you can control and view logfiles of each task. </p><h2 id="Making-local-changes-1"><a class="docs-heading-anchor" href="#Making-local-changes-1">Making local changes</a><a class="docs-heading-anchor-permalink" href="#Making-local-changes-1" title="Permalink"></a></h2><p>Very soon you will find that you need to do changes in a script or in the source code. Once you have identified which file to edit you put it into the current <code>$HOME/hm_home/my_exp</code> directory, with exactly the same subdirectory structure as in the reference. e.g, if you want to modify a namelist setting </p><pre><code class="language-bash">   ~hlam/Harmonie co nam/harmonie_namelists.pm         # retrieve default namelist harmonie_namelists.pm
   vi nam/harmonie_namelists.pm                        # modify the namelist</code></pre><p>Next time you run your experiment the changed file will be used. You can also make changes in a running experiment. Make the change you wish and rerun the <code>InitRun</code> task from the viewer. The !InitRun task copies all files from your local experiment directory to your working directory <code>$HM_DATA</code>. Once your <code>InitRun</code> task is complete your can rerun the task you are interested in. If you wish to recompile something you will also have to rerun the <code>Build</code> tasks.</p><h2 id="Directory-structure-1"><a class="docs-heading-anchor" href="#Directory-structure-1">Directory structure</a><a class="docs-heading-anchor-permalink" href="#Directory-structure-1" title="Permalink"></a></h2><h3 id="ecgb-1"><a class="docs-heading-anchor" href="#ecgb-1">ecgb</a><a class="docs-heading-anchor-permalink" href="#ecgb-1" title="Permalink"></a></h3><p>On ecgb, you can follow the progress of the runs on <code>$SCRATCH/hm_home/my_exp</code></p><ul><li>Working directory for the current cycle under <code>YYYYMMDD_HH</code></li><li>Archived files under are in <code>$SCRATCH/hm_home/my_exp/archive</code><ul><li>A <code>YYYY/MM/DD/HH</code> structure for per cycle data is used</li><li>All logfiles under <code>archive/log</code>   </li></ul></li><li>On ecgb log files per task are found under <code>/cca/perm/ms/$COUNTRY/$USER/HARMONIE/my_exp</code>. All logfiles are also gathered in html files named like e.g. <code>HM_Date_YYYYMMDDHH.html</code> which are archived in <code>$SCRATCH/hm_home/my_exp/archive/log</code> on ecgb.</li><li>Verification data available on the permanent disk <code>/hpc/perm/$GROUP/$USER/HARMONIE/archive/$EXP/archive/extract</code>     </li></ul><h3 id="cca-1"><a class="docs-heading-anchor" href="#cca-1">cca</a><a class="docs-heading-anchor-permalink" href="#cca-1" title="Permalink"></a></h3><p>More complete results and the main data are available on <code>cca:$SCRATCH/hm_home/my_exp</code>. Under these directories you will find:</p><ul><li>All binaries under <code>bin</code></li><li>IFS libraries, object files and source code under <code>lib/src</code> if you build with makeup</li><li>Scripts, config files, ecf and suite definitions under <code>lib/</code></li><li>Utilities such as <code>makeup</code>, <code>gl_grib_api</code> or <code>oulan</code> under <code>lib/util</code></li><li>Climate files under <code>climate</code></li><li>Working directory for the current cycle under <code>YYYYMMDD_HH</code><ul><li>If an experiment fails it is useful to check the IFS log file, <code>NODE.001_01</code>, in the working directory of the current cycle ( <code>$HM_DATA/YYYYMMDD_HH</code> ). The failed job will be in a directory called something like Failed<em>this</em>job.</li></ul></li><li>Archived files under <code>archive</code><ul><li>A <code>YYYY/MM/DD/HH</code> structure for per cycle data</li><li><code>ICMSHHARM+NNNN</code> and <code>ICMSHHARM+NNNN.sfx</code> are atmospheric and surfex forecast output files</li></ul></li><li>Verification input data under <code>extract</code>. This is also stored on the permanent disk <code>/perm/$GROUP/$USER/HARMONIE/archive/$EXP/archive/extract</code></li></ul><h3 id="ECFS-1"><a class="docs-heading-anchor" href="#ECFS-1">ECFS</a><a class="docs-heading-anchor-permalink" href="#ECFS-1" title="Permalink"></a></h3><ul><li>Since the disks on <code>cca</code>/<code>ecgb</code> are cleaned regularly we need to store data permanently on ECFS, the EC file system, as well. There are two options for ECFS, <code>ectmp</code> and <code>ec</code>. The latter is a permanent storage and first one is cleaned after 90 days. Which one you use is defined by the ECFSLOC variable. To view your data type e.g.</li></ul><pre><code class="language-bash"> els ectmp:/$USER/harmonie/my_exp</code></pre><ul><li>The level of archiving depends on <code>ARSTRATEGY</code> in <code>ecf/config_exp.h</code> . The default setting will give you one <code>YYYY/MM/DD/HH</code> structure per cycle data containing:<ul><li>Surface analysis, <code>ICMSHANAL+0000[.sfx]</code></li><li>Atmospheric analysis result <code>MXMIN1999+0000</code></li><li>Blending between surface/atmospheric analysis and cloud variable from the first guess <code>LSMIXBCout</code></li><li><code>ICMSHHARM+NNNN</code> and <code>ICMSHHARM+NNNN.sfx</code> are atmospheric and surfex forecast model state files</li><li><code>PFHARM*</code> files produced by the inline postprocessing</li><li><code>ICMSHSELE+NNNN.sfx</code> are surfex files with selected output</li><li>GRIB files for fullpos and surfex select files</li><li>Logfiles in a tar file <code>logfiles.tar</code></li><li>Observation database and feedback information in <code>odb_stuff.tar</code>.</li><li>Extracted files for obsmon in <code>sqlite.tar</code></li></ul></li><li>Climate files are stored in the <code>climate</code> directory</li><li>One directory each for  <code>vfld</code> and <code>vobs</code> data respectively for verification data</li></ul><h2 id="Cleanup-of-old-experiments-1"><a class="docs-heading-anchor" href="#Cleanup-of-old-experiments-1">Cleanup of old experiments</a><a class="docs-heading-anchor-permalink" href="#Cleanup-of-old-experiments-1" title="Permalink"></a></h2><p>Once you have complete your experiment you may wish to remove code, scripts and data from the disks. Harmonie provides some simple tools to do this. First check the content of the different disks by</p><pre><code class="language-bash"> Harmonie CleanUp -ALL</code></pre><p>Once you have convinced yourself that this is OK you can proceed with the removal.</p><pre><code class="language-bash"> Harmonie CleanUp -ALL -go </code></pre><p>If you would like to exclude the data stored on e.g ECFS ( at ECMWF ) or in more general terms stored under <code>HM_EXP</code> ( as defined in <code>Env_system</code> ) you run </p><pre><code class="language-bash"> Harmonie CleanUp -d</code></pre><p>to list the directories intended for cleaning. Again, convince yourself that this is OK and proceed with the cleaning by</p><pre><code class="language-bash"> Harmonie CleanUp -d -go</code></pre><p><strong>NOTE that these commands may not work properly in all versions. Do not run the removal before you&#39;re sure it&#39;s OK</strong></p><p>You can always remove the data from ECFS directly by running e.g.</p><pre><code class="language-bash"> erm -R ec:/YOUR_USER/harmonie/EXPERIMENT_NAME 
 or
 erm -R ectmp:/YOUR_USER/harmonie/EXPERIMENT_NAME </code></pre><ul><li>For more information about cleaning with Harmonie read <a href="../HarmonieSystemDocumentation/TheHarmonieScript.md">here</a></li><li>For more information about the ECFS commands read <a href="https://confluence.ecmwf.int/display/UDOC/ecfs.1">here</a></li></ul><h2 id="[Back-to-the-main-page-of-the-HARMONIE-System-Documentation](../HarmonieSystemDocumentation.md)-1"><a class="docs-heading-anchor" href="#[Back-to-the-main-page-of-the-HARMONIE-System-Documentation](../HarmonieSystemDocumentation.md)-1"><a href="../HarmonieSystemDocumentation.md">Back to the main page of the HARMONIE System Documentation</a></a><a class="docs-heading-anchor-permalink" href="#[Back-to-the-main-page-of-the-HARMONIE-System-Documentation](../HarmonieSystemDocumentation.md)-1" title="Permalink"></a></h2></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Home</a><a class="docs-footer-nextpage" href="../Fast_start_on_cca/">Fast start on cca »</a></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Monday 6 September 2021 15:27">Monday 6 September 2021</span>. Using Julia version 1.6.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
